<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link
      href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700,700i|Source+Sans+Pro:400,600&display=swap"
      rel="stylesheet"
    />
    <title>Databyss</title>
    <script>
      ;(function () {
        // if mobile, replace hostname with mobile hostname
        var mobileOsAgents = /ios|iphone|android|windows phone/i
        var isMobile = Math.max(window.innerWidth, window.innerHeight) < 900
        var isMobileOs = navigator.userAgent.match(mobileOsAgents)
        if (
          '%MOBILE_HOST%' &&
          window.location.host !== '%MOBILE_HOST%' &&
          isMobile &&
          isMobileOs
        ) {
          var redir = window.location.href.replace(
            window.location.host,
            '%MOBILE_HOST%'
          )
          window.location.replace(redir)
        }
        if (
          '%DESKTOP_HOST%' &&
          window.location.host !== '%DESKTOP_HOST%' &&
          !isMobile &&
          !isMobileOs
        ) {
          var redir = window.location.href.replace(
            window.location.host,
            '%DESKTOP_HOST%'
          )
          window.location.replace(redir)
        }
      })()
    </script>
    <% if (!process.env.FORCE_MOBILE) { %>
    <script src="%PUBLIC_URL%/gsap.min.js"></script>
    <style>
      body {
        background-color: #3b3835;
      }
      .databyss {
        position: fixed;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        text-align: center;
        z-index: -1;
      }
      .databysspath {
        opacity: 0;
        fill: transparent;
      }
    </style>
    <% } %>
  </head>

  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <% if (!process.env.FORCE_MOBILE) { %>
    <div id="databyss1" class="databyss">
      <svg
        height="100vh"
        viewBox="0 0 1100 1100"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          class="databysspath"
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M33.3948 124.425L82.6052 115.575L120.751 327.666L203.68 278.357L331.627 383.274L455.058 234.824H662.328L810.155 400.316L916.305 488.651L1023.33 352.16L1062.67 383.012L923.89 560.011L817.866 471.781L804.007 619.133L601.955 745.415L743.988 863.635L626.175 996.044L588.821 962.808L672.283 869.005L544.958 763.028L331.163 636.695L356.6 593.649L559.042 713.273L756.541 589.836L771.39 431.973L639.947 284.824H478.51L338.324 453.426L199.092 339.256L84.3085 407.506L33.3948 124.425Z"
          fill="#8AFFB4"
        />
        <path
          class="databysspath"
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M33.3948 124.425L82.6052 115.575L120.751 327.666L203.68 278.357L331.627 383.274L455.058 234.824H662.328L810.155 400.316L916.305 488.651L1023.33 352.16L1062.67 383.012L923.89 560.011L817.866 471.781L804.007 619.133L601.955 745.415L743.988 863.635L626.175 996.044L588.821 962.808L672.283 869.005L544.958 763.028L331.163 636.695L356.6 593.649L559.042 713.273L756.541 589.836L771.39 431.973L639.947 284.824H478.51L338.324 453.426L199.092 339.256L84.3085 407.506L33.3948 124.425Z"
          fill="#8AFFB4"
        />
        <path
          class="databysspath"
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M33.3948 124.425L82.6052 115.575L120.751 327.666L203.68 278.357L331.627 383.274L455.058 234.824H662.328L810.155 400.316L916.305 488.651L1023.33 352.16L1062.67 383.012L923.89 560.011L817.866 471.781L804.007 619.133L601.955 745.415L743.988 863.635L626.175 996.044L588.821 962.808L672.283 869.005L544.958 763.028L331.163 636.695L356.6 593.649L559.042 713.273L756.541 589.836L771.39 431.973L639.947 284.824H478.51L338.324 453.426L199.092 339.256L84.3085 407.506L33.3948 124.425Z"
          fill="#8AFFB4"
        />
        <path
          class="databysspath"
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M33.3948 124.425L82.6052 115.575L120.751 327.666L203.68 278.357L331.627 383.274L455.058 234.824H662.328L810.155 400.316L916.305 488.651L1023.33 352.16L1062.67 383.012L923.89 560.011L817.866 471.781L804.007 619.133L601.955 745.415L743.988 863.635L626.175 996.044L588.821 962.808L672.283 869.005L544.958 763.028L331.163 636.695L356.6 593.649L559.042 713.273L756.541 589.836L771.39 431.973L639.947 284.824H478.51L338.324 453.426L199.092 339.256L84.3085 407.506L33.3948 124.425Z"
          fill="#8AFFB4"
        />
      </svg>
    </div>
    <% } %>
    <div id="root"></div>
    <% if (!process.env.FORCE_MOBILE) { %>
    <script>
      ;(function () {
        var containerNode = document.getElementById('databyss1').cloneNode(true)
        containerNode.id = 'databyss2'
        document.body.appendChild(containerNode)

        function startanim(i) {
          var shapes = '#databyss' + i + ' .databysspath'
          gsap.set(shapes, {
            opacity: 0,
            scale: 0,
            transformOrigin: '50% 50%',
            fill: '#FF66D7',
            stroke: 'white',
            strokeWidth: 6,
          })
          gsap
            .timeline()
            // .pause()
            .to(shapes, {
              duration: 6,
              scale: 0.75,
              stagger: 0.5,
              transformOrigin: '50% 50%',
              ease: 'linear',
            })
            .to(shapes, { duration: 4, opacity: 1, ease: 'linear' }, '-=6')
            .to(
              shapes,
              { duration: 3.5, fill: '#8AFFB4', ease: 'linear' },
              '-=6'
            )
            .to(
              shapes,
              { duration: 1, fill: 'transparent', ease: 'linear' },
              '-=3'
            )
            .to(shapes, { duration: 1, opacity: 0, ease: 'linear' }, '-=2.5')
            .to(shapes, { duration: 1.5, opacity: 0, ease: 'linear' }, '-=1.5')

          window.databysstimer = setTimeout(
            () => startanim(i === 1 ? 2 : 1),
            4000
          )
        }
        window.startdatabyss = function () {
          startanim(1)
        }
        window.stopdatabyss = function () {
          clearTimeout(window.databysstimer)
        }
      })()
    </script>
    <% } %>
  </body>
</html>
